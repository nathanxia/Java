package google;

import java.util.*;

public class rectangleRandomPick {

	
	public static void main(String[] args) {
		// TODO Auto-generated method stub
		
		int[][] rects = {{1,2,3,4}, {5,6,9,10}, {11,13,15,17}, {10,20, 40, 40}};
		
		pickFromOneRect(rects[3]);
		
		
	}
	
	public static void pickFromOneRect(int[] rect) {
		int x = rect[2] - rect[0];
		int y = rect[3] - rect[1];
		Random ran = new Random();
		double pick = ran.nextDouble();
		System.out.println("Random pick double: " + pick);
		int newX = (int)(x * pick) + rect[0];
		int newY = (int)(y * pick) + rect[1];
		System.out.println("point picked: (" + newX + ", " + newY + ")"); 
	}
	
	public static void pickFromMoreRect(int[][] rects) {
		
		int[] weights = new int[rects.length];
		int sum = 0;
		for (int i = 0; i < rects.length; i++) {
			int[] r = rects[i];
			int area = (r[3] - r[1]) * (r[2] - r[0]);
			sum += area;
			weights[i] = sum;
		}
		
		Random ran = new Random();
		double pick = ran.nextInt(sum);
		
		int left = 0;
		int right = weights.length - 1;
		
		while (left < right && left + 1 != right) {
			int mid = left + (right - left) / 2;
			if (left > mid) {
				left = mid;
			}
			else {
				right = mid;
			}
		}
		
		if (pick <= left) {
			System.out.println("pick " + left + "rect");
			pickFromOneRect(rects[left]);
		}
		else {
			System.out.println("pick " + right + "rect");
			pickFromOneRect(rects[right]);
		}
		
		
	}

}
