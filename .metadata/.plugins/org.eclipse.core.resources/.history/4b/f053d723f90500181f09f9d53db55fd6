import java.util.*;
import java.util.stream.*;
public class TestMyCollector {
    public static void main(String[] args){
        
    	Collector<String,?,AbstractMap<Integer,String>> myCollector =
                Collector.of(TreeMap::new, 
                          (s,t) -> s.put(t.length(),t.toLowerCase()),
                          (x,y) -> { x.putAll(y); return x;});
        AbstractMap<Integer,String> coll;

        coll = Stream.of("Bob","Carol","Ted","Bob","Alice")
                            .collect(myCollector);
        coll.forEach((k,v) -> System.out.println(k + ":" + v));
    }
}